<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
	<head>
		<title>Bddify Test Result @DateTime.Now.ToShortDateString()</title>
		
		<style type="text/css">
			body
			{
				margin:auto;
				width:80%;
				background-color:#688EF2;
			}
			
			table
			{
				border:1px solid black;
				width:100%;
				margin:5px;
				padding:5px;
			}
			
			tbody
			{
				text-align:left
			}
			
			td.Passed
			{
				background-color:Green
			}
			
			td.Failed
			{
				background-color:Red
			}
			
			td.Inconclusive
			{
				background-color:Yellow
			}
			
			td.NotImplemented
			{
				background-color:Yellow
			}
			
			th.scenarioHeader
			{
			    width:400px    
			}

            th.resultHeader
            {
                width:100px;
            }
		</style>

		<script type="text/javascript" src="jquery-1.4.4.min.js"> </script>
	</head>

	<body>
		<h2>Bddify Test Result @DateTime.Now.ToShortDateString()</h2>

		<div>
			<h3>Test Summary:</h3>
			<table>
				<tbody>
					<tr>
						<th>Passed</th>
						<td>@Model.Count(b => b.Result == Bddify.Core.StepExecutionResult.Passed)</td>
					</tr>
					<tr>
						<th>Failed</th>
						<td>@Model.Count(b => b.Result == Bddify.Core.StepExecutionResult.Failed)</td>
					</tr>
					<tr>
						<th>Inconclusive</th>
						<td>@Model.Count(b => b.Result == Bddify.Core.StepExecutionResult.Inconclusive)</td>
					</tr>
					<tr>
						<th>Not Implemented</th>
						<td>@Model.Count(b => b.Result == Bddify.Core.StepExecutionResult.NotImplemented)</td>
					</tr>
					<tr>
						<th>Not Executed</th>
						<td>@Model.Count(b => b.Result == Bddify.Core.StepExecutionResult.NotExecuted)</td>
					</tr>
				</tbody>
			</table>
		</div>

		<table>
			<thead>
				<tr>
					<th class="scenarioHeader">Scenario</th>
					<th>Result</th>
					<th class="resultHeader"></th>
				</tr>
			</thead>
			<tbody>
				@foreach (var bddee in @Model) {
					<tr class="scenario" id="@bddee.Object.GetType().Name">
						<td class="@bddee.Result">@bddee.ScenarioSentence</td>
						<td class="@bddee.Result"></td>
						<td class="@bddee.Result">@bddee.Result</td>
					</tr>
					@foreach (var step in bddee.Steps) {
					<tr class="steps @bddee.Object.GetType().Name">
						<td></td>
						<td class="@step.Result">@step.ReadableMethodName</td>
						<td class="@step.Result">@step.Result</td>
					</tr>
					}
				}
			</tbody>
		</table>

		<p>Run by Bddifier</p>

        <script type="text/javascript">
        	$(function () {
        	    $('tr.steps').hide();
        	    $('tr.scenario').click(function () {
        	        $('tr.' + $(this).attr('id')).toggle();
        	    });
        	});
	    </script>

	</body>

</html>